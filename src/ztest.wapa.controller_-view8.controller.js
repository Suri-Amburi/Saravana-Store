sap.ui.define([                                                                                                                                                                                                                                                
"sap/ui/core/mvc/Controller"                                                                                                                                                                                                                                   
], function (Controller, JSONModel ) {                                                                                                                                                                                                                         
"use restrict";                                                                                                                                                                                                                                                
var fo,info,ponum,errflg,nor,totalamount,createdby,createdate;                                                                                                                                                                                                 
return Controller.extend("ztest.controller.View1",{                                                                                                                                                                                                            
	onInit: function (oEvent)&nbsp;                                                                                                                                                                                                                               
	{                                                                                                                                                                                                                                                             
		                                                                                                                                                                                                                                                             
		var oRouter = sap.ui.core.UIComponent.getRouterFor(this);                                                                                                                                                                                                    
		oRouter.getRoute("View8").attachPatternMatched(this._onObjectMatched, this);                                                                                                                                                                                 
	},                                                                                                                                                                                                                                                            
	_onObjectMatched:function(oEvent){                                                                                                                                                                                                                            
		var sRootPath = jQuery.sap.getModulePath("ztest");                                                                                                                                                                                                           
		var sImagePath = sRootPath + "/Images/logo1.jpg";                                                                                                                                                                                                            
		this.getView().byId("Image8").setSrc(sImagePath);                                                                                                                                                                                                            
		fo = oEvent.getParameter("arguments").varo;                                                                                                                                                                                                                  
		this.getView().byId("HeaderText5").setText(fo);                                                                                                                                                                                                              
		nor = oEvent.getParameter("arguments").red;                                                                                                                                                                                                                  
		this.getView().byId("vendorname").setText(nor);                                                                                                                                                                                                              
		info =  oEvent.getParameter("arguments").vari;                                                                                                                                                                                                               
		ponum = oEvent.getParameter("arguments").item;                                                                                                                                                                                                               
		this.getView().byId("ponumber").setText(ponum);                                                                                                                                                                                                              
		createdate = oEvent.getParameter("arguments").createdate;                                                                                                                                                                                                    
      	this.getView().byId("createddate").setText(createdate);                                                                                                                                                                                                 
		createdby = oEvent.getParameter("arguments").createdby;                                                                                                                                                                                                      
    	this.getView().byId("createdby").setText(createdby);                                                                                                                                                                                                      
		errflg = oEvent.getParameter("arguments").head;                                                                                                                                                                                                              
		totalamount = oEvent.getParameter("arguments").valkey;                                                                                                                                                                                                       
		this.getView().byId("totamt").setText(totalamount);                                                                                                                                                                                                          
		if(errflg == "false")                                                                                                                                                                                                                                        
		{                                                                                                                                                                                                                                                            
			var error = "";                                                                                                                                                                                                                                             
		}                                                                                                                                                                                                                                                            
		else&nbsp;                                                                                                                                                                                                                                                   
		{                                                                                                                                                                                                                                                            
			error = "X";                                                                                                                                                                                                                                                
		}                                                                                                                                                                                                                                                            
		var URL = "/sap/opu/odata/sap/ZGW_PO_ITEM_DETAILS_SRV/";                                                                                                                                                                                                     
        var count;                                                                                                                                                                                                                                             
        var notarray = [];                                                                                                                                                                                                                                     
        var norobject = {};&nbsp;                                                                                                                                                                                                                              
  	    var oData = new sap.ui.model.odata.ODataModel(URL,false);                                                                                                                                                                                               
        var TILESCOLLECTION = [];                                                                                                                                                                                                                              
        var oDataModel = new sap.ui.model.json.JSONModel();                                                                                                                                                                                                    
        oData.setCountSupported(false);                                                                                                                                                                                                                        
        oData.setDefaultCountMode("None");                                                                                                                                                                                                                     
        oData.setUseBatch(false);                                                                                                                                                                                                                              
        var entity = "ItemSet?&$filter=(Ebeln eq " + "'" + ponum + "'" + " and ErrorFlag eq "  +  "'" + error + "'"  + " )";                                                                                                                                   
        oData.read(entity,null,null,false,                                                                                                                                                                                                                     
    	function(Data){                                                                                                                                                                                                                                           
    	TILESCOLLECTION = Data;                                                                                                                                                                                                                                   
        });                                                                                                                                                                                                                                                    
        count = TILESCOLLECTION.results.length;                                                                                                                                                                                                                
        var addition = "0";                                                                                                                                                                                                                                    
        for (var p=0;p<TILESCOLLECTION.results.length;p++)                                                                                                                                                                                                     
        {                                                                                                                                                                                                                                                      
			norobject = TILESCOLLECTION.results[p].Menge;                                                                                                                                                                                                               
			if(norobject <= "1")                                                                                                                                                                                                                                        
			{                                                                                                                                                                                                                                                           
				addition = parseInt(norobject);                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                               
			}                                                                                                                                                                                                                                                           
			else                                                                                                                                                                                                                                                        
			{                                                                                                                                                                                                                                                           
				addition = parseInt(addition)+ parseInt(norobject);                                                                                                                                                                                                        
			}                                                                                                                                                                                                                                                           
        }                                                                                                                                                                                                                                                      
        oDataModel.setData(TILESCOLLECTION);                                                                                                                                                                                                                   
        this.getView().byId("itemtableview").setVisibleRowCount(count);                                                                                                                                                                                        
        this.getView().byId("itemtableview").setModel(oDataModel);&nbsp;                                                                                                                                                                                       
        this.getView().byId("qtytext").setText(addition);                                                                                                                                                                                                      
	},                                                                                                                                                                                                                                                            
	onview8back:function()                                                                                                                                                                                                                                        
	{                                                                                                                                                                                                                                                             
	   var oRouter = sap.ui.core.UIComponent.getRouterFor(this);                                                                                                                                                                                                  
		oRouter.navTo("View7",                                                                                                                                                                                                                                       
		{                                                                                                                                                                                                                                                            
			api: fo,                                                                                                                                                                                                                                                    
			ino: info                                                                                                                                                                                                                                                   
		});                                                                                                                                                                                                                                                          
		                                                                                                                                                                                                                                                             
	}                                                                                                                                                                                                                                                             
&nbsp;&nbsp;                                                                                                                                                                                                                                                   
&nbsp;&nbsp;                                                                                                                                                                                                                                                   
&nbsp;                                                                                                                                                                                                                                                         
&nbsp;&nbsp;                                                                                                                                                                                                                                                   
&nbsp;&nbsp;&nbsp;                                                                                                                                                                                                                                             
&nbsp;&nbsp;&nbsp;&nbsp;                                                                                                                                                                                                                                       
});                                                                                                                                                                                                                                                            
});                                                                                                                                                                                                                                                            